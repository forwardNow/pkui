!function(a){"object"==typeof module&&module.exports?module.exports=a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){"use strict";function c(b,d){function e(){f.$el=a(b),f.$el.length?f._init(f.$el[0],d):U(b)&&(Y[b]=d)}var f=this;return f instanceof c?void(c.pending?a(window).on("validatorready",e):e()):new c(b,d)}function d(b){function c(){var b=this.options;for(var c in b)c in $&&(this[c]=b[c]);a.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var b=this.element;return"number"===b.type&&b.validity&&b.validity.badInput?"NaN":a(b)[this._valHook()]()},setValue:function(b){a(this.element)[this._valHook()](this.value=b)},getRangeMsg:function(a,b,c){function d(a,b){return i?a>b:a>=b}if(b){var e,f=this,g=f.messages[f._r]||"",h=b[0].split("~"),i="false"===b[1],j=h[0],k=h[1],l="rg",m=[""],n=S(a)&&+a===+a;return 2===h.length?j&&k?(n&&d(a,+j)&&d(+k,a)&&(e=!0),m=m.concat(h),l=i?"gtlt":"rg"):j&&!k?(n&&d(a,+j)&&(e=!0),m.push(j),l=i?"gt":"gte"):!j&&k&&(n&&d(+k,a)&&(e=!0),m.push(k),l=i?"lt":"lte"):(a===+j&&(e=!0),m.push(j),l="eq"),g&&(c&&g[l+c]&&(l+=c),m[0]=g[l]),e||f._rules&&(f._rules[f._i].msg=f.renderMsg.apply(null,m))}},renderMsg:function(){var a=arguments,b=a[0],c=a.length;if(b){for(;--c;)b=b.replace("{"+c+"}",a[c]);return b}}})}function d(c,d,e){this.key=c,this.validator=b,a.extend(this,e,d)}return c.prototype=b,d.prototype=new c,d}function e(a,b){if(V(a)){var c,d=b?b===!0?this:b:e.prototype;for(c in a)n(c)&&(d[c]=g(a[c]))}}function f(a,b){if(V(a)){var c,d=b?b===!0?this:b:f.prototype;for(c in a)d[c]=a[c]}}function g(b){switch(a.type(b)){case"function":return b;case"array":var c=function(){return b[0].test(this.value)||b[1]||!1};return c.msg=b[1],c;case"regexp":return function(){return b.test(this.value)}}}function h(b){var c,d,e;if(b&&b.tagName){switch(b.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":c=b.form||a(b).closest("."+v);break;case"FORM":c=b;break;default:c=a(b).closest("."+v)}for(d in Y)if(a(c).is(d)){e=Y[d];break}return a(c).data(q)||a(c)[q](e).data(q)}}function i(a,b){var c=S(X(a,z+"-"+b));if(c&&(c=new Function("return "+c)()))return g(c)}function j(a,b,c){var d=b.msg,e=b._r;return V(d)&&(d=d[e]),U(d)||(d=X(a,A+"-"+e)||X(a,A)||(c?U(c)?c:c[e]:"")),d}function k(a){var b;return a&&(b=N.exec(a)),b&&b[0]}function l(a){return"INPUT"===a.tagName&&"checkbox"===a.type||"radio"===a.type}function m(a){return Date.parse(a.replace(/\.|\-/g,"/"))}function n(a){return/^\w+$/.test(a)}function o(a){var b="#"===a.charAt(0);return a=a.replace(/([:.{(|)}\/\[\]])/g,"\\$1"),b?a:'[name="'+a+'"]:first'}var p,q="validator",r="."+q,s=".rule",t=".field",u=".form",v="nice-"+q,w="msg-box",x="aria-required",y="aria-invalid",z="data-rule",A="data-msg",B="data-tip",C="data-ok",D="data-timely",E="data-target",F="data-display",G="data-must",H="novalidate",I=":verifiable",J=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,K=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,L=/(?:([^:;\(\[]*):)?(.*)/,M=/[^\x00-\xff]/g,N=/top|right|bottom|left/,O=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,P=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,Q=a.noop,R=a.proxy,S=a.trim,T=a.isFunction,U=function(a){return"string"==typeof a},V=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)},W=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),X=function(a,c,d){return a&&a.tagName?d===b?a.getAttribute(c):void(null===d?a.removeAttribute(c):a.setAttribute(c,""+d)):null},Y={},Z={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},$={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(a){if(U(a)||V(a)&&("error"in a||"ok"in a))return a},msgMaker:function(b){var c;return c='<span role="alert" class="msg-wrap n-'+b.type+'">'+b.arrow,b.result?a.each(b.result,function(a,d){c+='<span class="n-'+d.type+'">'+b.icon+'<span class="n-msg">'+d.msg+"</span></span>"}):c+=b.icon+'<span class="n-msg">'+b.msg+"</span>",c+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},_={};return a.fn.validator=function(b){var d=this,e=arguments;return d.is(I)?d:(d.is("form")||(d=this.find("form")),d.length||(d=this),d.each(function(){var d=a(this).data(q);if(d)if(U(b)){if("_"===b.charAt(0))return;d[b].apply(d,[].slice.call(e,1))}else b&&(d._reset(!0),d._init(this,b));else new c(this,b)}),this)},a.fn.isValid=function(a,c){var d,e,f=h(this[0]),g=T(a);return!f||(g||c!==b||(c=a),f.checkOnly=!!c,e=f.options,d=f._multiValidate(this.is(I)?this:this.find(I),function(b){b||!e.focusInvalid||f.checkOnly||f.$el.find("["+y+"]:first").focus(),g&&(a.length?a(b):b&&a()),f.checkOnly=!1}),g?this:d)},a.extend(a.expr.pseudos||a.expr[":"],{verifiable:function(a){var b=a.nodeName.toLowerCase();return("input"===b&&!{submit:1,button:1,reset:1,image:1}[a.type]||"select"===b||"textarea"===b||"true"===a.contentEditable)&&!a.disabled},filled:function(b){return!!S(a(b).val())}}),c.prototype={_init:function(b,c){var g,h,i,j=this;T(c)&&(c={valid:c}),c=j._opt=c||{},i=X(b,"data-"+q+"-option"),i=j._dataOpt=i&&"{"===i.charAt(0)?new Function("return "+i)():{},h=j._themeOpt=_[c.theme||i.theme||Z.theme],g=j.options=a.extend({},Z,$,h,j.options,c,i),j.rules=new e(g.rules,(!0)),j.messages=new f(g.messages,(!0)),j.Field=d(j),j.elements=j.elements||{},j.deferred={},j.errors={},j.fields={},j._initFields(g.fields),j.$el.data(q)||(j.$el.data(q,j).addClass(v+" "+g.formClass).on("form-submit-validate",function(a,b,c,d,e){j.vetoed=e.veto=!j.isValid,j.ajaxFormOptions=d}).on("submit"+r+" validate"+r,R(j,"_submit")).on("reset"+r,R(j,"_reset")).on("showmsg"+r,R(j,"_showmsg")).on("hidemsg"+r,R(j,"_hidemsg")).on("focusin"+r+" click"+r,I,R(j,"_focusin")).on("focusout"+r+" validate"+r,I,R(j,"_focusout")).on("keyup"+r+" input"+r+" compositionstart compositionend",I,R(j,"_focusout")).on("click"+r,":radio,:checkbox","click",R(j,"_focusout")).on("change"+r,'select,input[type="file"]',"change",R(j,"_focusout")),j._NOVALIDATE=X(b,H),X(b,H,H)),U(g.target)&&j.$el.find(g.target).addClass("msg-container")},_guessAjax:function(b){function c(b,c,d){return!!(b&&b[c]&&a.map(b[c],function(a){return~a.namespace.indexOf(d)?1:null}).length)}var d=this;if(!(d.isAjaxSubmit=!!d.options.valid)){var e=(a._data||a.data)(b,"events");d.isAjaxSubmit=c(e,"valid","form")||c(e,"submit","form-plugin")}},_initFields:function(a){function b(a,b){if(null===b||g){var c=f.elements[a];c&&f._resetElement(c,!0),delete f.fields[a]}else f.fields[a]=new f.Field(a,U(b)?{rule:b}:b,f.fields[a])}var c,d,e,f=this,g=null===a;if(g&&(a=f.fields),V(a))for(c in a)if(~c.indexOf(","))for(d=c.split(","),e=d.length;e--;)b(S(d[e]),a[c]);else b(c,a[c]);f.$el.find(I).each(function(){f._parse(this)})},_parse:function(a){var b,c,d,e=this,f=a.name,g=X(a,z);if(g&&X(a,z,null),a.id&&("#"+a.id in e.fields||!f||null!==g&&(b=e.fields[f])&&g!==b.rule&&a.id!==b.key)&&(f="#"+a.id),f)return b=e.getField(f,!0),b.rule=g||b.rule,(c=X(a,F))&&(b.display=c),b.rule&&((null!==X(a,G)||/\b(?:match|checked)\b/.test(b.rule))&&(b.must=!0),/\brequired\b/.test(b.rule)&&(b.required=!0,X(a,x,!0)),(d=X(a,D))?b.timely=+d:b.timely>3&&X(a,D,b.timely),e._parseRule(b),b.old={}),U(b.target)&&X(a,E,b.target),U(b.tip)&&X(a,B,b.tip),e.fields[f]=b},_parseRule:function(c){var d=L.exec(c.rule);d&&(c._i=0,d[1]&&(c.display=d[1]),d[2]&&(c._rules=[],d[2].replace(J,function(){var d=arguments;d[4]=d[4]||d[5],c._rules.push({and:"&"===d[1],not:"!"===d[2],or:"|"===d[6],method:d[3],params:d[4]?a.map(d[4].split(", "),S):b})})))},_multiValidate:function(c,d){var e=this,f=e.options;return e.hasError=!1,f.ignore&&(c=c.not(f.ignore)),c.each(function(){if(e._validate(this),e.hasError&&f.stopOnError)return!1}),d&&(e.validating=!0,a.when.apply(null,a.map(e.deferred,function(a){return a})).done(function(){d.call(e,!e.hasError),e.validating=!1})),a.isEmptyObject(e.deferred)?!e.hasError:b},_submit:function(c){var d=this,e=d.options,f=c.target,g="submit"===c.type&&!c.isDefaultPrevented();c.preventDefault(),p&&~(p=!1)||d.submiting||"validate"===c.type&&d.$el[0]!==f||T(e.beforeSubmit)&&e.beforeSubmit.call(d,f)===!1||(d.isAjaxSubmit===b&&d._guessAjax(f),d._debug("log","\n<<< event: "+c.type),d._reset(),d.submiting=!0,d._multiValidate(d.$el.find(I),function(b){var c,h=b||2===e.debug?"valid":"invalid";b||(e.focusInvalid&&d.$el.find("["+y+"]:first").focus(),c=a.map(d.errors,function(a){return a})),d.submiting=!1,d.isValid=b,T(e[h])&&e[h].call(d,f,c),d.$el.trigger(h+u,[f,c]),d._debug("log",">>> "+h),b&&(d.vetoed?a(f).ajaxSubmit(d.ajaxFormOptions):g&&!d.isAjaxSubmit&&document.createElement("form").submit.call(f))}))},_reset:function(a){var b=this;b.errors={},a&&(b.reseting=!0,b.$el.find(I).each(function(){b._resetElement(this)}),delete b.reseting)},_resetElement:function(a,b){this._setClass(a,null),this.hideMsg(a),b&&X(a,x,null)},_focusin:function(a){var b,c,d=this,e=d.options,f=a.target;d.validating||"click"===a.type&&document.activeElement===f||(e.focusCleanup&&"true"===X(f,y)&&(d._setClass(f,null),d.hideMsg(f)),c=X(f,B),c?d.showMsg(f,{type:"tip",msg:c}):(X(f,z)&&d._parse(f),(b=X(f,D))&&(8!==b&&9!==b||d._focusout(a))))},_focusout:function(b){var c,d,e,f,g,h,i,j,k,m=this,n=m.options,o=b.target,p=b.type,q="focusin"===p,r="validate"===p,s=0;if("compositionstart"===p&&(m.pauseValidate=!0),"compositionend"===p&&(m.pauseValidate=!1),!m.pauseValidate&&(d=o.name&&l(o)?m.$el.find('input[name="'+o.name+'"]').get(0):o,(e=m.getField(d))&&e.rule)){if(c=e._e,e._e=p,k=e.timely,!r){if(!k||l(o)&&"click"!==p)return;if(g=e.getValue(),e.ignoreBlank&&!g&&!q)return void m.hideMsg(o);if("focusout"===p){if("change"===c)return;if(2===k||8===k){if(f=e.old,!g||!f)return;e.isValid&&!f.showOk?m.hideMsg(o):m._makeMsg(o,e,f)}}else{if(k<2&&!b.data)return;if(h=+new Date,h-(o._ts||0)<100)return;if(o._ts=h,"keyup"===p){if("input"===c)return;if(i=b.keyCode,j={8:1,9:1,16:1,32:1,46:1},9===i&&!g)return;if(i<48&&!j[i])return}q||(s=k<100?"click"===p||"SELECT"===o.tagName?0:400:k)}}n.ignore&&a(o).is(n.ignore)||(clearTimeout(e._t),s?e._t=setTimeout(function(){m._validate(o,e)},s):(r&&(e.old={}),m._validate(o,e)))}},_setClass:function(b,c){var d=a(b),e=this.options;e.bindClassTo&&(d=d.closest(e.bindClassTo)),d.removeClass(e.invalidClass+" "+e.validClass),null!==c&&d.addClass(c?e.validClass:e.invalidClass)},_showmsg:function(a,b,c){var d=this,e=a.target;d.$el.is(e)?V(b)?d.showMsg(b):"tip"===b&&d.$el.find(I+"["+B+"]",e).each(function(){d.showMsg(this,{type:b,msg:c})}):d.showMsg(e,{type:b,msg:c})},_hidemsg:function(b){var c=a(b.target);c.is(I)&&this.hideMsg(c)},_validatedField:function(b,c,d){var e=this,f=e.options,g=c.isValid=d.isValid=!!d.isValid,h=g?"valid":"invalid";d.key=c.key,d.ruleName=c._r,d.id=b.id,d.value=c.value,e.elements[c.key]=d.element=b,e.isValid=e.$el[0].isValid=g?e.isFormValid():g,g?d.type="ok":(e.submiting&&(e.errors[c.key]=d.msg),e.hasError=!0),c.old=d,T(c[h])&&c[h].call(e,b,d),T(f.validation)&&f.validation.call(e,b,d),a(b).attr(y,!g||null).trigger(h+t,[d,e]),e.$el.triggerHandler("validation",[d,e]),e.checkOnly||(e._setClass(b,d.skip||"tip"===d.type?null:g),e._makeMsg.apply(e,arguments))},_makeMsg:function(b,c,d){c.msgMaker&&(d=a.extend({},d),"focusin"===c._e&&(d.type="tip"),this[d.showOk||d.msg||"tip"===d.type?"showMsg":"hideMsg"](b,d,c))},_validatedRule:function(c,d,e,f){d=d||l.getField(c),f=f||{};var g,h,i,k,l=this,m=d._r,n=d.timely,o=9===n||8===n,p=!1;if(null===e)return l._validatedField(c,d,{isValid:!0,skip:!0}),void(d._i=0);if(e===b?i=!0:e===!0||""===e?p=!0:U(e)?g=e:V(e)&&(e.error?g=e.error:(g=e.ok,p=!0)),h=d._rules[d._i],h.not&&(g=b,p="required"===m||!p),h.or)if(p)for(;d._i<d._rules.length&&d._rules[d._i].or;)d._i++;else i=!0;else h.and&&(d.isValid||(i=!0));i?p=!0:(p&&d.showOk!==!1&&(k=X(c,C),g=null===k?U(d.ok)?d.ok:g:k,!U(g)&&U(d.showOk)&&(g=d.showOk),U(g)&&(f.showOk=p)),p&&!o||(g=(j(c,d,g||h.msg||l.messages[m])||l.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(a,b){return l._getDisplay(c,d.display)||b||l.messages[0]})),p||(d.isValid=p),f.msg=g,a(c).trigger((p?"valid":"invalid")+s,[m,g])),!o||i&&!h.and||(p||d._m||(d._m=g),d._v=d._v||[],d._v.push({type:p?i?"tip":"ok":"error",msg:g||h.msg})),l._debug("log","   "+d._i+": "+m+" => "+(p||g)),(p||o)&&d._i<d._rules.length-1?(d._i++,l._checkRule(c,d)):(d._i=0,o?(f.isValid=d.isValid,f.result=d._v,f.msg=d._m||"",d.value||"focusin"!==d._e||(f.type="tip")):f.isValid=p,l._validatedField(c,d,f),delete d._m,delete d._v)},_checkRule:function(c,d){var e,f,g,h=this,j=d.key,k=d._rules[d._i],l=k.method,m=k.params;h.submiting&&h.deferred[j]||(g=d.old,d._r=l,g&&!d.must&&!k.must&&k.result!==b&&g.ruleName===l&&g.id===c.id&&d.value&&g.value===d.value?e=k.result:(f=i(c,l)||h.rules[l]||Q,e=f.call(d,c,m,d),f.msg&&(k.msg=f.msg)),V(e)&&T(e.then)?(h.deferred[j]=e,d.isValid=b,!h.checkOnly&&h.showMsg(c,{type:"loading",msg:h.messages.loading},d),e.then(function(e,f,g){var i,j=S(g.responseText),l=d.dataFilter;/jsonp?/.test(this.dataType)?j=e:"{"===j.charAt(0)&&(j=a.parseJSON(j)),i=l.call(this,j,d),i===b&&(i=l.call(this,j.data,d)),k.data=this.data,k.result=d.old?i:b,h._validatedRule(c,d,i)},function(a,b){h._validatedRule(c,d,h.messages[b]||b)}).always(function(){delete h.deferred[j]})):h._validatedRule(c,d,e))},_validate:function(a,b){var c=this;if(!a.disabled&&null===X(a,H)&&(b=b||c.getField(a),b&&(b._rules||c._parse(a),b._rules)))return c._debug("info",b.key),b.isValid=!0,b.element=a,b.value=b.getValue(),b.required||b.must||b.value||l(a)?(c._checkRule(a,b),b.isValid):(c._validatedField(a,b,{isValid:!0}),!0)},_debug:function(a,b){window.console&&this.options.debug&&console[a](b)},test:function(a,c){var d,e,f,g,h=this,i=K.exec(c);return i&&(f=i[1],f in h.rules&&(g=i[2]||i[3],g=g?g.split(", "):b,e=h.getField(a,!0),e._r=f,e.value=e.getValue(),d=h.rules[f].call(e,a,g))),d===!0||d===b||null===d},_getDisplay:function(a,b){return U(b)?b:T(b)?b.call(this,a):""},_getMsgOpt:function(b,c){var d=c?c:this.options;return a.extend({type:"error",pos:k(d.msgClass),target:d.target,wrapper:d.msgWrapper,style:d.msgStyle,cls:d.msgClass,arrow:d.msgArrow,icon:d.msgIcon},U(b)?{msg:b}:b)},_getMsgDOM:function(c,d){var e,f,g,h,i=a(c);if(i.is(I)?(g=d.target||X(c,E),g&&(g=T(g)?g.call(this,c):this.$el.find(g),g.length&&(g.is(I)?(i=g,c=g.get(0)):g.hasClass(w)?e=g:h=g)),e||(f=l(c)&&c.name||!c.id?c.name:c.id,e=this.$el.find(d.wrapper+"."+w+'[for="'+f+'"]'))):e=i,!d.hide&&!e.length)if(e=a("<"+d.wrapper+">").attr({class:w+(d.cls?" "+d.cls:""),style:d.style||b,for:f}),l(c)){var j=i.parent();e.appendTo(j.is("label")?j.parent():j)}else h?e.appendTo(h):e[d.pos&&"right"!==d.pos?"insertBefore":"insertAfter"](i);return e},showMsg:function(b,c,d){if(b){var e,f,g,h,i=this,j=i.options;if(V(b)&&!b.jquery&&!c)return void a.each(b,function(a,b){var c=i.elements[a]||i.$el.find(o(a))[0];i.showMsg(c,b)});a(b).is(I)&&(d=d||i.getField(b)),(f=(d||j).msgMaker)&&(c=i._getMsgOpt(c,d),b=(b.name&&l(b)?i.$el.find('input[name="'+b.name+'"]'):a(b)).get(0),c.msg||"error"===c.type||(g=X(b,"data-"+c.type),null!==g&&(c.msg=g)),U(c.msg)&&(h=i._getMsgDOM(b,c),!N.test(h[0].className)&&h.addClass(c.cls),6===W&&"bottom"===c.pos&&(h[0].style.marginTop=a(b).outerHeight()+"px"),h.html(f.call(i,c))[0].style.display="",T(e=d&&d.msgShow||j.msgShow)&&e.call(i,h,c.type)))}},hideMsg:function(b,c,d){var e,f,g=this,h=g.options;b=a(b).get(0),a(b).is(I)&&(d=d||g.getField(b),d&&(d.isValid||g.reseting)&&X(b,y,null)),c=g._getMsgOpt(c,d),c.hide=!0,f=g._getMsgDOM(b,c),f.length&&(T(e=d&&d.msgHide||h.msgHide)?e.call(g,f,c.type):(f[0].style.display="none",f[0].innerHTML=null))},getField:function(a,c){var d,e,f=this;if(U(a))d=a,a=b;else{if(X(a,z))return f._parse(a);d=a.id&&"#"+a.id in f.fields||!a.name?"#"+a.id:a.name}return((e=f.fields[d])||c&&(e=new f.Field(d)))&&(e.element=a),e},setField:function(a,b){var c={};a&&(U(a)?c[a]=b:c=a,this._initFields(c))},isFormValid:function(){var a,b,c=this.fields;for(a in c)if(b=c[a],b._rules&&(b.required||b.must||b.value)&&!b.isValid)return!1;return!0},holdSubmit:function(a){this.submiting=a===b||a},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(r).removeData(q),X(this.$el[0],H,this._NOVALIDATE)}},a(window).on("beforeunload",function(){this.focus()}),a(document).on("click",":submit",function(){var a,b=this;b.form&&(a=b.getAttributeNode("formnovalidate"),(a&&null!==a.nodeValue||null!==X(b,H))&&(p=!0))}).on("focusin submit validate","form,."+v,function(b){if(null===X(this,H)){var c,d=a(this);!d.data(q)&&(c=h(this))&&(a.isEmptyObject(c.fields)?(X(this,H,H),d.off(r).removeData(q)):"focusin"===b.type?c._focusin(b):c._submit(b))}}),new f({fallback:"This field is not valid.",loading:"Validating..."}),new e({required:function(b,c){var d=this,e=S(d.value),f=!0;if(c)if(1===c.length){if(n(c[0])){if(d.rules[c[0]]){if(!e&&!d.test(b,c[0]))return X(b,x,null),null;X(b,x,!0)}}else if(!e&&!a(c[0],d.$el).length)return null}else if("not"===c[0])a.each(c.slice(1),function(){return f=e!==S(this)});else if("from"===c[0]){var g,h=d.$el.find(c[1]),i="_validated_";return f=h.filter(function(){var a=d.getField(this);return a&&!!S(a.getValue())}).length>=(c[2]||1),f?e||(g=null):g=j(h[0],d)||!1,a(b).data(i)||h.data(i,1).each(function(){b!==this&&d._validate(this)}).removeData(i),g}return f&&!!e},integer:function(a,b){var c,d="0|",e="[1-9]\\d*",f=b?b[0]:"*";switch(f){case"+":c=e;break;case"-":c="-"+e;break;case"+0":c=d+e;break;case"-0":c=d+"-"+e;break;default:c=d+"-?"+e}return c="^(?:"+c+")$",new RegExp(c).test(this.value)||this.messages.integer[f]},match:function(b,c){if(c){var d,e,f,g,h,i,j,k,l=this,n="eq";if(1===c.length?f=c[0]:(n=c[0],f=c[1]),i=o(f),j=l.$el.find(i)[0]){if(k=l.getField(j),d=l.value,e=k.getValue(),l._match||(l.$el.on("valid"+t+r,i,function(){a(b).trigger("validate")}),l._match=k._match=1),!l.required&&""===d&&""===e)return null;if(h=c[2],h&&(/^date(time)?$/i.test(h)?(d=m(d),e=m(e)):"time"===h&&(d=+d.replace(/:/g,""),e=+e.replace(/:/g,""))),"eq"!==n&&!isNaN(+d)&&isNaN(+e))return!0;switch(g=l.messages.match[n].replace("{1}",l._getDisplay(b,k.display||f)),n){case"lt":return+d<+e||g;case"lte":return+d<=+e||g;case"gte":return+d>=+e||g;case"gt":return+d>+e||g;case"neq":return d!==e||g;default:return d===e||g}}}},range:function(a,b){return this.getRangeMsg(this.value,b)},checked:function(a,b){if(l(a)){var c,d,e=this;return a.name?d=e.$el.find('input[name="'+a.name+'"]').filter(function(){var a=this;return!c&&l(a)&&(c=a),!a.disabled&&a.checked}).length:(c=a,d=c.checked),b?e.getRangeMsg(d,b):!!d||j(c,e,"")||e.messages.required}},length:function(a,b){var c=this.value,d=("true"===b[1]?c.replace(M,"xx"):c).length;return this.getRangeMsg(d,b,b[1]?"_2":"")},remote:function(b,c){if(c){var d,e=this,f=O.exec(c[0]),g=e._rules[e._i],h={},i="",j=f[3],k=f[2]||"POST",l=(f[1]||"").toLowerCase();return g.must=!0,h[b.name]=e.value,c[1]&&a.map(c.slice(1),function(a){var b,c;~a.indexOf("=")?i+="&"+a:(b=a.split(":"),a=S(b[0]),c=S(b[1])||a,h[a]=e.$el.find(o(c)).val())}),h=a.param(h)+i,!e.must&&g.data&&g.data===h?g.result:("cors"!==l&&/^https?:/.test(j)&&!~j.indexOf(location.host)&&(d="jsonp"),a.ajax({url:j,type:k,data:h,dataType:d}))}},filter:function(a,b){var c=this.value,d=c.replace(b?new RegExp("["+b[0]+"]","gm"):P,"");d!==c&&this.setValue(d)}}),c.config=function(b,c){function d(a,b){"rules"===a?new e(b):"messages"===a?new f(b):a in $?$[a]=b:Z[a]=b}V(b)?a.each(b,d):U(b)&&d(b,c)},c.setTheme=function(b,c){V(b)?a.extend(!0,_,b):U(b)&&V(c)&&(_[b]=a.extend(_[b],c))},c.load=function(b){if(b){var d,e,f,g=document,h={},i=g.scripts[0];b.replace(/([^?=&]+)=([^&#]*)/g,function(a,b,c){h[b]=c}),d=h.dir||c.dir,c.css||""===h.css||(e=g.createElement("link"),e.rel="stylesheet",e.href=c.css=d+"jquery.validator.css",i.parentNode.insertBefore(e,i)),!c.local&&~b.indexOf("local")&&""!==h.local&&(c.local=(h.local||g.documentElement.lang||"en").replace("_","-"),c.pending=1,e=g.createElement("script"),e.src=d+"local/"+c.local+".js",f="onload"in e?"onload":"onreadystatechange",e[f]=function(){e.readyState&&!/loaded|complete/.test(e.readyState)||(e=e[f]=null,delete c.pending,a(window).triggerHandler("validatorready"))},i.parentNode.insertBefore(e,i))}},function(){for(var a,b,d=document.scripts,e=d.length,f=/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/;e--&&!b;)a=d[e],b=(a.hasAttribute?a.src:a.getAttribute("src",4)||"").match(f);b&&(c.dir=b[1].split("/").slice(0,-1).join("/")+"/",c.load(b[2]))}(),a[q]=c});